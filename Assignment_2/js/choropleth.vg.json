{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "width": "container",
    "height": 450,
    "projection": { "type": "mercator" },
    "data": {
      "url": "https://raw.githubusercontent.com/ethan-baines-monash/3179/refs/heads/main/Assignment_2/data/AUS_Remote.json",
      "format": { 
        "type": "topojson", 
        "feature": "RA_2021_AUST_GDA2020" 
      }
    },
    "transform": [
      {
        "calculate": 
        "datum.properties.STE_NAME21 + '_' + datum.properties.RA_NAME21",
        "as": "ID"
      },
      {
        "lookup": "ID",
        "from": {
          "data": {
            "url": "https://raw.githubusercontent.com/ethan-baines-monash/3179/refs/heads/main/Assignment_2/data/ATM_Locations_Normalised.csv"
          },
          "key": "ID",
          "fields": ["ATM_Per_1000"]
        }
      }
    ],
    "mark": {"type": "geoshape"},
      "encoding": {
      "color": {
        "field": "ATM_Per_1000",
        "type": "quantitative",
        "title": "ATMs Per 1000 people"
      }
    }
  }